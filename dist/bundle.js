(()=>{"use strict";const e=document.querySelector("form"),t=document.querySelector("input[type=checkbox]"),n=e=>{let t=5/9*(e-32);return Math.round(t)},o=()=>{let o=e.querySelector("input").value,r="Â°F";(async e=>{let t=`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=imperial&appid=480b9920e735a04affc24c731838e8fe`;try{let e=await fetch(t,{mode:"cors"}),n=await e.json(),o=n.weather[0].description,r=n.main.temp,c=n.main.feels_like,a=n.main.temp_max,i=n.main.temp_min;return{desc:o,temp:Math.round(r),feelsLike:Math.round(c),hi:Math.round(a),low:Math.round(i)}}catch(e){alert(e),preventDefault()}})(o).then((e=>{t.checked&&(r="Â°C",e.temp=n(e.temp),e.feels=n(e.feels),e.hi=n(e.hi),e.low=n(e.low)),((e,t,n)=>{const o=document.getElementById("city"),r=document.querySelector("#temp > div"),c=document.querySelector("#feels > div"),a=document.querySelector("#desc > div"),i=document.querySelector("#hi > div"),l=document.querySelector("#low > div"),d=document.querySelector("#gif");o.textContent=t,r.textContent=e.temp+n,c.textContent=e.feelsLike+n,a.textContent=e.desc,i.textContent=e.hi+n,l.textContent=e.low+n,(async e=>{try{let t=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=0rvzBeZcPTKU9FJMPRwEtqpzKYNPr4ZA&s=${e}`,{mode:"cors"});return(await t.json()).data.images.original.url}catch(e){console.log(e)}})(e.desc).then((e=>{d.src=e}))})(e,o,r)}))};t.addEventListener("click",(e=>{o()})),e.addEventListener("submit",(e=>{e.preventDefault(),o()}))})();