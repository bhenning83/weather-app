(()=>{"use strict";const e=document.querySelector("form"),t=document.querySelector("input[type=checkbox]"),n=async e=>{let t=`http://api.openweathermap.org/data/2.5/weather?q=${e}&units=imperial&appid=480b9920e735a04affc24c731838e8fe`;try{let e=await fetch(t,{mode:"cors"}),n=await e.json(),o=n.weather[0].description,r=n.main.temp,c=n.main.feels_like,a=n.main.temp_max,i=n.main.temp_min;return{desc:o,temp:Math.round(r),feelsLike:Math.round(c),hi:Math.round(a),low:Math.round(i)}}catch(e){alert(e),preventDefault()}},o=e=>{let t=5/9*(e-32);return Math.round(t)},r=()=>e.querySelector("input").value,c=(e,n,r="°F")=>{t.checked&&(r="°C",e.temp=o(e.temp),e.feels=o(e.feels),e.hi=o(e.hi),e.low=o(e.low));const c=document.getElementById("city"),a=document.querySelector("#temp > div"),i=document.querySelector("#feels > div"),l=document.querySelector("#desc > div"),d=document.querySelector("#hi > div"),u=document.querySelector("#low > div"),m=document.querySelector("#gif");c.textContent=n,a.textContent=e.temp+r,i.textContent=e.feelsLike+r,l.textContent=e.desc,d.textContent=e.hi+r,u.textContent=e.low+r,(async e=>{try{let t=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=0rvzBeZcPTKU9FJMPRwEtqpzKYNPr4ZA&s=${e}`,{mode:"cors"});return(await t.json()).data.images.original.url}catch(e){console.log(e)}})(e.desc).then((e=>{m.src=e}))};t.addEventListener("click",(e=>{let t=r();n(t).then((e=>{c(e,t)}))})),e.addEventListener("submit",(e=>{e.preventDefault();let t=r();n(t).then((e=>{c(e,t)}))}))})();